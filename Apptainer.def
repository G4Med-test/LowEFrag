Bootstrap: docker
From: carlomt/geant4:11.3.2-almalinux9

%labels
    Author Carlo Mancini
    Email mancinit@infn.it
    Project LowEFrag
    Description "Apptainer container for LowEFrag G4-Med test"

%files
    . /source

%environment
    source /usr/local/bin/geant4.sh

%post
    mkdir build && cd build
    cmake ../source
    make -j$(nproc)
    make install

%runscript
    echo "Running LowEFrag simulation..."
    /usr/local/bin/LowEFrag "$@"
